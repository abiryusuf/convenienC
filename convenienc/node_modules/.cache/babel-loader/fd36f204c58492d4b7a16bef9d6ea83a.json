{"ast":null,"code":"var _jsxFileName = \"/Users/abiryusuf/Documents/project/Final_Project/convenienC/convenienc/src/pages/BusinessSignUp/BusinessSignUp.js\";\nimport React, { Component } from \"react\";\nimport styles from \"./businessSignUp-style.css\";\nimport { user as userAPI } from \"../../utils/API\";\nimport { Redirect } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../../components/Grid/Grid\";\nimport { Input, FormBtn } from \"../../components/Form/Form\";\nimport Card from \"../../components/Card/Card\";\n\nclass BusinessSignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.props.setLoading(true); // validate all fields\n\n      if (!this.state.email || !this.state.password || !this.state.passwordConf) {\n        this.props.setLoading(false); // set error alert to user\n\n        return this.props.setAlertInfo({\n          theme: \"warning\",\n          message: \"Please fill all required fields\"\n        });\n      } // validate pass === to pass confirmation.\n\n\n      if (this.state.password.trim() !== this.state.passwordConf.trim()) {\n        this.props.setLoading(false); // set error alert to user\n\n        return this.props.setAlertInfo({\n          theme: \"warning\",\n          message: \"Your password fields do not match.\"\n        });\n      } // if good to go\n\n\n      userAPI.signup({\n        username: this.state.username.trim(),\n        email: this.state.email.trim(),\n        password: this.state.password.trim(),\n        passwordConf: this.state.passwordConf.trim()\n      }).then(res => {\n        console.log(res);\n\n        if (res.status === 200) {\n          this.props.setUser(res.data);\n          this.props.setLoading(false);\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/home\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 18\n            }\n          });\n        } else {\n          this.props.setLoading(false);\n          this.props.setAlertInfo({\n            theme: \"warning\",\n            message: res.response.data\n          });\n        }\n      }).catch(err => {\n        this.props.setLoading(false);\n        console.log(err.response.data);\n        this.props.setAlertInfo({\n          theme: \"warning\",\n          message: err.response.data\n        });\n      });\n    };\n\n    this.state = {\n      email: '',\n      username: '',\n      password: '',\n      passwordConf: ''\n    };\n  } // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     email: \"\",\n  //     username: \"\",\n  //     password: \"\",\n  //     passwordConf: \"\",\n  //   };\n  // }\n\n\n  componentDidMount() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      size: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: styles.form,\n      onSubmit: this.handleFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: this.state.username,\n      onChange: this.handleInputChange,\n      name: \"username\",\n      placeholder: \"username (required)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      value: this.state.email,\n      onChange: this.handleInputChange,\n      name: \"email\",\n      placeholder: \"email (required)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      value: this.state.password,\n      onChange: this.handleInputChange,\n      name: \"password\",\n      placeholder: \"(required)\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      value: this.state.passwordConf,\n      onChange: this.handleInputChange,\n      name: \"passwordConf\",\n      placeholder: \"(required)\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormBtn, {\n      disabled: !(this.state.email && this.state.password && this.state.passwordConf),\n      onClick: this.handleFormSubmit,\n      theme: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, \"signup\"))))), this.props.user && this.props.user._id ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 14\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 14\n      }\n    }));\n  }\n\n}\n\nexport default BusinessSignUp;","map":{"version":3,"sources":["/Users/abiryusuf/Documents/project/Final_Project/convenienC/convenienc/src/pages/BusinessSignUp/BusinessSignUp.js"],"names":["React","Component","styles","user","userAPI","Redirect","Col","Row","Container","Input","FormBtn","Card","BusinessSignUp","constructor","props","handleInputChange","event","name","value","target","setState","handleFormSubmit","preventDefault","setLoading","state","email","password","passwordConf","setAlertInfo","theme","message","trim","signup","username","then","res","console","log","status","setUser","data","response","catch","err","componentDidMount","render","form","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styles from \"./businessSignUp-style.css\";\nimport { user as userAPI } from \"../../utils/API\";\nimport { Redirect } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../../components/Grid/Grid\";\nimport { Input, FormBtn } from \"../../components/Form/Form\";\nimport Card from \"../../components/Card/Card\";\n\nclass BusinessSignUp extends Component {\n\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tpasswordConf: ''\n\t\t};\n\t}\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     email: \"\",\n  //     username: \"\",\n  //     password: \"\",\n  //     passwordConf: \"\",\n  //   };\n  // }\n\n\n  componentDidMount() {}\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.props.setLoading(true);\n\n    // validate all fields\n    if (!this.state.email || !this.state.password || !this.state.passwordConf) {\n      this.props.setLoading(false);\n      // set error alert to user\n      return this.props.setAlertInfo({\n        theme: \"warning\",\n        message: \"Please fill all required fields\",\n      });\n    }\n\n    // validate pass === to pass confirmation.\n    if (this.state.password.trim() !== this.state.passwordConf.trim()) {\n      this.props.setLoading(false);\n      // set error alert to user\n      return this.props.setAlertInfo({\n        theme: \"warning\",\n        message: \"Your password fields do not match.\",\n      });\n    }\n\n    // if good to go\n    userAPI\n      .signup({\n        username: this.state.username.trim(),\n        email: this.state.email.trim(),\n        password: this.state.password.trim(),\n        passwordConf: this.state.passwordConf.trim(),\n      })\n      .then((res) => {\n        console.log(res);\n        if (res.status === 200) {\n          this.props.setUser(res.data);\n          this.props.setLoading(false);\n          return <Redirect to=\"/home\" />;\n        } else {\n          this.props.setLoading(false);\n          this.props.setAlertInfo({\n            theme: \"warning\",\n            message: res.response.data,\n          });\n        }\n      })\n      .catch((err) => {\n        this.props.setLoading(false);\n        console.log(err.response.data);\n        this.props.setAlertInfo({\n          theme: \"warning\",\n          message: err.response.data,\n        });\n      });\n  };\n\n  render() {\n    return (\n      <Container fluid>\n        <Row>\n          <Col size=\"12\">\n            <Card title=\"Signup\">\n              <form className={styles.form} onSubmit={this.handleFormSubmit}>\n                <Input\n                  value={this.state.username}\n                  onChange={this.handleInputChange}\n                  name=\"username\"\n                  placeholder=\"username (required)\"\n                />\n                <Input\n                  value={this.state.email}\n                  onChange={this.handleInputChange}\n                  name=\"email\"\n                  placeholder=\"email (required)\"\n                />\n                <Input\n                  value={this.state.password}\n                  onChange={this.handleInputChange}\n                  name=\"password\"\n                  placeholder=\"(required)\"\n                  type=\"password\"\n                />\n                <Input\n                  value={this.state.passwordConf}\n                  onChange={this.handleInputChange}\n                  name=\"passwordConf\"\n                  placeholder=\"(required)\"\n                  type=\"password\"\n                />\n\n\t\t\t\t\t\t\t\t<FormBtn\n\t\t\t\t\t\t\t\t\tdisabled={!(this.state.email && this.state.password && this.state.passwordConf)}\n\t\t\t\t\t\t\t\t\tonClick={this.handleFormSubmit}\n\t\t\t\t\t\t\t\t\ttheme='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tsignup\n\t\t\t\t\t\t\t\t</FormBtn>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t{/* redirect on authenticated */}\n        { this.props.user && this.props.user._id \n          ?  <Redirect to='/home' /> \n          :  <div></div> }\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default BusinessSignUp;\n"]},"metadata":{},"sourceType":"module"}